{% extends "base.html" %}

{% block title %}Edit Trip - TravelPlanner{% endblock %}
{% block body_class %}edit-trip-page{% endblock %}

{% block content %}
  <section class="edit-auth-container">
    <div class="auth-card">
      <h2><i class="bi bi-pencil-square"></i> Edit Trip Details</h2>

      <form method="POST" action="">
        <div class="input-group">
          <i class="bi bi-geo-alt-fill"></i>
          <input 
            type="text" 
            name="destination" 
            placeholder="Destination (e.g., Paris)" 
            value="{{ trip.destination }}" 
            required
          >
        </div>

        <div class="input-group">
          <i class="bi bi-calendar-event"></i>
          <input 
            type="date" 
            name="start_date" 
            value="{{ trip.start_date.strftime('%Y-%m-%d') if trip.start_date else '' }}" 
            required
          >
        </div>

        <div class="input-group">
          <i class="bi bi-calendar-check"></i>
          <input 
          type="date" 
          name="end_date" 
          value="{{ trip.end_date.strftime('%Y-%m-%d') if trip.end_date else '' }}" 
          required
        >
        </div>

        <div class="input-group">
          <i class="bi bi-cash-coin"></i>
          <input 
            type="number" 
            name="budget" 
            placeholder="Budget (USD)" 
            value="{{ trip.budget }}" 
            min="0" 
            step="100"
          >
        </div>

        <div class="input-group">
          <i class="bi bi-card-text"></i>
          <textarea 
            name="notes" 
            placeholder="Trip notes or itinerary..." 
            rows="4"
          >{{
            trip.notes
            | replace("**", "")
            | replace("â€¢", "-")
            | replace("* ", "- ")
            | replace("*", "")
          }}</textarea>
        </div>

        <div class="input-group">
          <i class="bi bi-image-fill"></i>
          <input 
            type="url" 
            name="image" 
            placeholder="Image URL (optional)" 
            value="{{ trip.image }}"
          >
        </div>

        <div class="trip-actions" style="margin-top: 20px;">
          <button type="submit" class="auth-btn">
            <i class="bi bi-save"></i> Save Changes
          </button>

          <a 
            href="{{ url_for('trip_details', id=trip.id) }}" 
            class="auth-btn delete-btn"
          >
            <i class="bi bi-x-circle"></i> Cancel
          </a>
        </div>
      </form>

      <p class="auth-footer">
        <a href="{{ url_for('dashboard') }}">
          <i class="bi bi-arrow-left"></i> Back to Dashboard
        </a>
      </p>
    </div>
  </section>
{% endblock %}