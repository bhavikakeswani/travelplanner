{% extends 'base.html' %}

{% block title %}Dashboard - TravelPlanner{% endblock %}

{% block body_class %}dashboard-page{% endblock %}

{% block content %}
  <section class="dashboard-container">
    <div class="dashboard-card">
      <header class="dashboard-header">
        <h2>Welcome back, Traveler üåç</h2>
        <a href="{{url_for('home')}}" class="logout-btn"><i class="bi bi-box-arrow-right"></i> Logout</a>
      </header>

      <div class="dashboard-stats">
        <div class="stat-card">
          <h3>{{ user_trips | length }}</h3>
          <p>Total Trips</p>
        </div>

        <div class="stat-card">
          <h3>{{ user_trips | length }}</h3>
          <p>Upcoming Trips</p>
        </div>

        <div class="stat-card">
          <h3>{{ current_user.joined_on.strftime('%b %Y') }}</h3>
          <p>Member Since</p>
        </div>
      </div>

      <div class="trip-summary">
        <h3>Your Upcoming Trips</h3>

        <div class="trip-cards">
          {% if user_trips %}
            {% for trip in user_trips %}
              <div class="trip-card">
                <img src="{{ trip.image }}" alt="Trip Image">

                <div class="trip-info">
                  <h4>{{ trip.destination }}</h4>
                  <p><i class="bi bi-calendar-event"></i> {{ trip.start_date }} ‚Äì {{ trip.end_date }}</p>
                  <p><i class="bi bi-geo-alt-fill"></i> {{ trip.destination }}</p>
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p>No trips yet. Start by adding one!</p>
          {% endif %}
        </div>
      </div>

      <div class="dashboard-actions">
        <a href="{{url_for('create_trip')}}" class="auth-btn"><i class="bi bi-plus-circle"></i> Add New Trip</a>
      </div>

      <footer class="dashboard-footer">
        &copy; 2025 TravelPlanner. Plan your next adventure ‚úàÔ∏è
      </footer>
    </div>
  </section>
{% endblock %}